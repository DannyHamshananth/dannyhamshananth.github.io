(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{1107:function(e,t,n){"use strict";var r=n(899);n.n(r).a},1108:function(e,t,n){(e.exports=n(707)(!1)).push([e.i,"button i[data-v-a959386e]{color:#e0e0e0;font-size:28px;line-height:24px}button:hover i[data-v-a959386e],button:focus i[data-v-a959386e]{color:#4f4f4f}\n",""])},1109:function(e,t,n){"use strict";var r=n(900);n.n(r).a},1110:function(e,t,n){(e.exports=n(707)(!1)).push([e.i,"\n.sidebar-submenu[data-v-20c028ff] {\n  left: 0;\n  top: 0;\n  min-height: 100%;\n  -webkit-transform: translateX(-100%);\n      -ms-transform: translateX(-100%);\n          transform: translateX(-100%);\n}\n.subcategory-item[data-v-20c028ff] {\n  display: -ms-flexbox;\n  display: flex;\n  width: 100%;\n}\n",""])},1111:function(e,t,n){"use strict";var r=n(901);n.n(r).a},1112:function(e,t,n){(e.exports=n(707)(!1)).push([e.i,".fade-enter-active[data-v-65f61e38]{-webkit-transition:opacity .25s;-o-transition:opacity .25s;transition:opacity .25s}.fade-leave-active[data-v-65f61e38]{-webkit-transition:opacity .2s;-o-transition:opacity .2s;transition:opacity .2s}.fade-enter[data-v-65f61e38],.fade-leave-to[data-v-65f61e38]{opacity:0}.fade-in-down-enter-active[data-v-65f61e38],.fade-in-up-enter-active[data-v-65f61e38]{-webkit-transition:all .25s cubic-bezier(0.4, 0, 0.2, 1);-o-transition:all .25s cubic-bezier(0.4, 0, 0.2, 1);transition:all .25s cubic-bezier(0.4, 0, 0.2, 1)}.fade-in-down-leave-active[data-v-65f61e38],.fade-in-up-leave-active[data-v-65f61e38]{-webkit-transition:all .2s cubic-bezier(0.4, 0, 1, 1);-o-transition:all .2s cubic-bezier(0.4, 0, 1, 1);transition:all .2s cubic-bezier(0.4, 0, 1, 1)}.fade-in-down-enter[data-v-65f61e38],.fade-in-down-leave-to[data-v-65f61e38],.fade-in-up-enter[data-v-65f61e38],.fade-in-up-leave-to[data-v-65f61e38]{opacity:0}.fade-in-down-enter[data-v-65f61e38],.fade-in-down-leave-to[data-v-65f61e38]{-webkit-transform:translateY(-100%);-ms-transform:translateY(-100%);transform:translateY(-100%)}.fade-in-up-enter[data-v-65f61e38],.fade-in-up-leave-to[data-v-65f61e38]{-webkit-transform:translateY(100%);-ms-transform:translateY(100%);transform:translateY(100%)}.sidebar-menu[data-v-65f61e38]{height:100vh;width:350px;overflow:hidden}@media (max-width: 767px){.sidebar-menu[data-v-65f61e38]{width:100vh}}.sidebar-menu__container[data-v-65f61e38]{overflow-y:auto;-webkit-overflow-scrolling:touch;height:calc(100% - 55px)}.sidebar-menu__list[data-v-65f61e38]{-webkit-transition:-webkit-transform .25s cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform .25s cubic-bezier(0.4, 0, 0.2, 1);-o-transition:transform .25s cubic-bezier(0.4, 0, 0.2, 1);transition:transform .25s cubic-bezier(0.4, 0, 0.2, 1);transition:transform .25s cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform .25s cubic-bezier(0.4, 0, 0.2, 1)}.sidebar-menu ul[data-v-65f61e38]{list-style-type:none}.sidebar-menu li[data-v-65f61e38]:hover,.sidebar-menu li[data-v-65f61e38]:focus{background-color:#e0e0e0}.sidebar-menu li.bg-cl-primary[data-v-65f61e38]:hover,.sidebar-menu li.bg-cl-primary[data-v-65f61e38]:focus{background-color:#f2f2f2}.sidebar-menu li a[data-v-65f61e38]{color:#333}.sidebar-menu .subcategory-item[data-v-65f61e38]{display:-ms-flexbox;display:flex;width:100%}.sidebar-menu button[data-v-65f61e38]{color:#333}.sidebar-menu button a[data-v-65f61e38]{color:#333}.sidebar-menu .close-btn i[data-v-65f61e38]{color:#e0e0e0}.sidebar-menu .close-btn:hover i[data-v-65f61e38],.sidebar-menu .close-btn:focus i[data-v-65f61e38]{color:#4f4f4f}\n",""])},1197:function(e,t,n){"use strict";n.r(t);var r=n(158),a=n(10),i=n(719),s=n(928),o=n(0);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={name:"SidebarMenu",mixins:[i.a,s.a],computed:u(u(u({},Object(r.c)("category-next",["getMenuCategories"])),{},{getCategories:function(){return this.getMenuCategories},categories:function(){return this.getCategories.filter((function(e){return e.level===(o.entities.category.categoriesDynamicPrefetchLevel>=0?o.entities.category.categoriesDynamicPrefetchLevel:2)}))}},Object(r.e)({isOpen:function(e){return e.ui.sidebar}})),{},{compareIsActive:function(){return!this.isEmpty}}),created:function(){},methods:{onEscapePress:function(){this.closeMenu()},closeMenu:function(){this.$store.commit("ui/setSidebar",!1),this.$store.commit("ui/setMicrocart",!1)}}};function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={name:"SubBtn",props:{id:{type:null,default:""},type:{type:String,default:"next"},name:{type:String,default:""},isCategory:{type:Boolean,default:!0}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(r.e)({submenu:function(e){return e.ui.submenu}})),methods:{next:function(){o.entities.category.categoriesDynamicPrefetch&&this.isCategory&&this.$store.dispatch("category-next/fetchMenuCategories",{parent:this.id}),this.$store.commit("ui/setSubmenu",{id:this.id,depth:++this.submenu.depth})},back:function(){this.$store.commit("ui/setSubmenu",{depth:--this.submenu.depth})}}},m=(n(1107),n(170)),y=Object(m.a)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return"next"===e.type?n("button",{staticClass:"inline-flex between-xs w-100 px25 py20 pr15 serif cl-accent",attrs:{type:"button","aria-label":e.$t("Show subcategories"),"data-testid":"categoryButton"},on:{click:function(t){return t.stopPropagation(),e.next()}}},[e._v("\n  "+e._s(e.name)+"\n  "),n("i",{staticClass:"material-icons"},[e._v("keyboard_arrow_right")])]):n("button",{staticClass:"inline-flex p15 between-xs",attrs:{type:"button","aria-label":e.$t("Back")},on:{click:function(t){return t.stopPropagation(),e.back()}}},[e._v("\n  "+e._s(e.name)+"\n  "),n("i",{staticClass:"material-icons"},[e._v("keyboard_arrow_left")])])}),[],!1,null,"a959386e",null).exports,g=n(39);function h(e,t,n,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(r,a)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={name:"SubCategory",components:{SubBtn:y},props:{id:{type:[String,Number],required:!0},categoryLinks:{type:null,required:!1,default:!1},parentSlug:{type:String,required:!1,default:""},parentPath:{type:String,required:!1,default:""},myAccountLinks:{type:null,required:!1,default:!1}},computed:w(w({children:function(){var e=this;return!o.entities.category.categoriesDynamicPrefetch&&this.categoryLinks&&this.categoryLinks.length>0&&this.categoryLinks[0].name?this.categoryLinks:this.$store.getters["category-next/getMenuCategories"].filter((function(t){return t.parent_id===e.id}))},hasChildren:function(){return this.children&&this.children.length}},Object(r.e)({submenu:function(e){return e.ui.submenu},path:function(e){return e.ui.submenu.path}})),{},{getSubmenu:function(){return this.submenu},styles:function(){var e=this.submenu.path.indexOf(this.id);return-1!==e&&{zIndex:e+1}},isCurrentMenuShowed:function(){return this.getSubmenu&&this.getSubmenu.depth&&this.getSubmenu.path[this.getSubmenu.depth-1]===this.id}}),methods:{logout:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("user/logout",{});case 2:t.$router.push(t.localizedRoute("/")),t.$store.commit("ui/setSubmenu",{depth:!1});case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){h(i,r,a,s,o,"next",e)}function o(e){h(i,r,a,s,o,"throw",e)}s(void 0)}))})()},notify:function(e){"My loyalty card"!==e&&"My product reviews"!==e||this.$store.dispatch("notification/spawnNotification",{type:"warning",message:a.a.t("This feature is not implemented yet! Please take a look at https://github.com/DivanteLtd/vue-storefront/issues for our Roadmap!"),action1:{label:a.a.t("OK")}})},categoryLink:function(e){return Object(g.a)(e)}}},k=(n(1109),Object(m.a)(_,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.children?n("ul",{staticClass:"sidebar-submenu absolute w-100 p0 bg-cl-primary",style:e.styles},[e.parentSlug?n("li",{staticClass:"brdr-bottom-1 brdr-cl-bg-secondary bg-cl-primary flex"},[n("router-link",{staticClass:"px25 py20 cl-accent no-underline col-xs",attrs:{to:e.categoryLink({url_path:e.parentPath,slug:e.parentSlug}),"data-testid":"categoryLink"}},[e._v("\n        "+e._s(e.$t("View all"))+"\n      ")])],1):e._e(),e._v(" "),e._l(e.children,(function(t){return n("li",{key:t.slug,staticClass:"brdr-bottom-1 brdr-cl-bg-secondary bg-cl-primary flex"},[e.isCurrentMenuShowed?n("div",{staticClass:"subcategory-item"},[t.children_count>0?n("sub-btn",{staticClass:"bg-cl-transparent brdr-none fs-medium",attrs:{id:t.id,name:t.name}}):n("router-link",{staticClass:"px25 py20 cl-accent no-underline col-xs",attrs:{to:e.categoryLink(t)}},[e._v("\n          "+e._s(t.name)+"\n        ")])],1):e._e(),e._v(" "),t.children_count>0?n("sub-category",{attrs:{"category-links":t.children_data,id:t.id,"parent-slug":t.slug,"parent-path":t.url_path}}):e._e()],1)}))],2):e._e(),e._v(" "),e.myAccountLinks&&!e.hasChildren?n("ul",{staticClass:"sidebar-submenu absolute w-100 p0 bg-cl-primary",style:e.styles},[e._l(e.myAccountLinks,(function(t){return n("li",{key:t.id,staticClass:"brdr-bottom-1 brdr-cl-bg-secondary bg-cl-primary flex",on:{click:function(n){return e.notify(t.name)}}},[n("router-link",{staticClass:"px25 py20 cl-accent no-underline col-xs",attrs:{to:e.localizedRoute(t.url)}},[e._v("\n        "+e._s(t.name)+"\n      ")])],1)})),e._v(" "),n("li",{staticClass:"brdr-bottom-1 brdr-cl-bg-secondary bg-cl-primary flex"},[n("a",{staticClass:"px25 py20 cl-accent no-underline col-xs",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.logout(t)}}},[e._v("\n        "+e._s(e.$t("Logout"))+"\n      ")])])],2):e._e()])}),[],!1,null,"20c028ff",null).exports),x=n(727);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P={components:{SubCategory:k,SubBtn:y},mixins:[d],data:function(){return{myAccountLinks:[{id:1,name:a.a.t("My profile"),url:"/my-account"},{id:2,name:a.a.t("My shipping details"),url:"/my-account/shipping-details"},{id:3,name:a.a.t("My newsletter"),url:"/my-account/newsletter"},{id:4,name:a.a.t("My orders"),url:"/my-account/orders"},{id:5,name:a.a.t("My loyalty card"),url:"#"},{id:6,name:a.a.t("My product reviews"),url:"#"}],componentLoaded:!1}},computed:j(j({mainListStyles:function(){return!!this.submenu.depth&&"transform: translateX(".concat(100*this.submenu.depth,"%)")}},Object(r.e)({submenu:function(e){return e.ui.submenu},currentUser:function(e){return e.user.current}})),{},{getSubmenu:function(){return this.submenu},visibleCategories:function(){return this.categories.filter((function(e){return e.product_count>0||e.children_count>0}))},isCurrentMenuShowed:function(){return!this.getSubmenu||!this.getSubmenu.depth}}),mounted:function(){var e=this;this.$nextTick((function(){e.componentLoaded=!0,Object(x.disableBodyScroll)(e.$refs.container)}))},destroyed:function(){Object(x.clearAllBodyScrollLocks)()},methods:{login:function(){var e=this;!this.currentUser&&this.isCurrentMenuShowed&&this.$nextTick((function(){e.$store.commit("ui/setAuthElem","login"),e.$bus.$emit("modal-show","modal-signup"),e.$router.push({name:"my-account"})}))},categoryLink:function(e){return Object(g.a)(e)}}},M=(n(1111),Object(m.a)(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sidebar-menu fixed mw-100 bg-cl-secondary"},[n("div",{staticClass:"row brdr-bottom-1 brdr-cl-bg-secondary"},[e.submenu.depth?n("div",{staticClass:"col-xs bg-cl-primary"},[n("sub-btn",{staticClass:"bg-cl-transparent brdr-none",attrs:{type:"back"}})],1):e._e(),e._v(" "),n("div",{staticClass:"col-xs bg-cl-primary"},[n("button",{staticClass:"w-100 inline-flex end-xs bg-cl-transparent brdr-none p0 close-btn",attrs:{type:"button","aria-label":e.$t("Close")},on:{click:e.closeMenu}},[n("i",{staticClass:"material-icons p15"},[e._v("close")])])])]),e._v(" "),n("div",{ref:"container",staticClass:"sidebar-menu__container row"},[n("div",{staticClass:"col-xs-12 h4 serif"},[n("ul",{staticClass:"p0 m0 relative sidebar-menu__list",style:e.mainListStyles},[n("li",{staticClass:"brdr-bottom-1 brdr-cl-bg-secondary bg-cl-primary",on:{click:e.closeMenu}},[n("router-link",{staticClass:"block px25 py20 cl-accent no-underline",attrs:{to:e.localizedRoute("/"),exact:""}},[e._v("\n            "+e._s(e.$t("Home"))+"\n          ")])],1),e._v(" "),e._l(e.visibleCategories,(function(t){return n("li",{key:t.slug,staticClass:"brdr-bottom-1 brdr-cl-bg-secondary bg-cl-primary flex",on:{click:e.closeMenu}},[e.isCurrentMenuShowed?n("div",{staticClass:"subcategory-item"},[t.children_count>0?n("sub-btn",{staticClass:"bg-cl-transparent brdr-none fs-medium",attrs:{id:t.id,name:t.name}}):n("router-link",{staticClass:"px25 py20 cl-accent no-underline col-xs",attrs:{to:e.categoryLink(t)}},[e._v("\n              "+e._s(t.name)+"\n            ")])],1):e._e(),e._v(" "),n("sub-category",{attrs:{"category-links":t.children_data,id:t.id,"parent-slug":t.slug,"parent-path":t.url_path}})],1)})),e._v(" "),e.isCurrentMenuShowed?n("li",{staticClass:"bg-cl-secondary",on:{click:e.closeMenu}},[n("router-link",{staticClass:"block px25 py20 brdr-bottom-1 brdr-cl-secondary cl-accent no-underline fs-medium-small",attrs:{to:e.localizedRoute("/sale"),exact:""}},[e._v("\n            "+e._s(e.$t("Sale"))+"\n          ")])],1):e._e(),e._v(" "),e.isCurrentMenuShowed?n("li",{staticClass:"bg-cl-secondary",on:{click:e.closeMenu}},[n("router-link",{staticClass:"block px25 py20 brdr-bottom-1 brdr-cl-secondary cl-accent no-underline fs-medium-small",attrs:{to:e.localizedRoute("/magazine"),exact:""}},[e._v("\n            "+e._s(e.$t("Magazine"))+"\n          ")])],1):e._e(),e._v(" "),e.compareIsActive&&e.isCurrentMenuShowed?n("li",{staticClass:"bg-cl-secondary",on:{click:e.closeMenu}},[n("router-link",{staticClass:"block px25 py20 brdr-bottom-1 brdr-cl-secondary cl-accent no-underline fs-medium-small",attrs:{to:e.localizedRoute("/compare"),exact:""}},[e._v("\n            "+e._s(e.$t("Compare products"))+"\n          ")])],1):e._e(),e._v(" "),n("li",{staticClass:"brdr-bottom-1 brdr-cl-secondary bg-cl-secondary flex",on:{click:e.login}},[e.currentUser?n("sub-btn",{staticClass:"bg-cl-transparent brdr-none fs-medium-small",attrs:{id:"my-account-links","is-category":!1,name:e.$t("My account")}}):e._e(),e._v(" "),e.currentUser?n("sub-category",{attrs:{"my-account-links":e.myAccountLinks,id:"my-account-links"},nativeOn:{click:function(t){return e.closeMenu(t)}}}):e._e(),e._v(" "),!e.currentUser&&e.isCurrentMenuShowed?n("a",{staticClass:"block w-100 px25 py20 cl-accent no-underline fs-medium-small",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.closeMenu(t)}}},[e._v("\n            "+e._s(e.$t("My account"))+"\n          ")]):e._e()],1)],2)])])])}),[],!1,null,"65f61e38",null));t.default=M.exports},899:function(e,t,n){var r=n(1108);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(708).default)("3caadfe2",r,!0,{})},900:function(e,t,n){var r=n(1110);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(708).default)("602e1e2b",r,!0,{})},901:function(e,t,n){var r=n(1112);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(708).default)("da027a46",r,!0,{})}}]);
//# sourceMappingURL=vsf-sidebar-menu.e74e1e8301c84cd3b76e.js.map